<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>4 Lecture Notes | Marketing Analytics</title>
  <meta name="description" content="4 Lecture Notes | Marketing Analytics" />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="4 Lecture Notes | Marketing Analytics" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="4 Lecture Notes | Marketing Analytics" />
  
  
  

<meta name="author" content="Wei Miao" />


<meta name="date" content="2021-10-16" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="r-tutorials.html"/>

<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-MWBY8FZYQ5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-MWBY8FZYQ5');
</script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Preface</a></li>
<li class="chapter" data-level="2" data-path="syllabus-msin0094-marketing-analytics.html"><a href="syllabus-msin0094-marketing-analytics.html"><i class="fa fa-check"></i><b>2</b> Syllabus: MSIN0094 Marketing Analytics</a>
<ul>
<li class="chapter" data-level="2.1" data-path="syllabus-msin0094-marketing-analytics.html"><a href="syllabus-msin0094-marketing-analytics.html#instructor-information"><i class="fa fa-check"></i><b>2.1</b> Instructor Information</a></li>
<li class="chapter" data-level="2.2" data-path="syllabus-msin0094-marketing-analytics.html"><a href="syllabus-msin0094-marketing-analytics.html#course-objective"><i class="fa fa-check"></i><b>2.2</b> Course Objective</a></li>
<li class="chapter" data-level="2.3" data-path="syllabus-msin0094-marketing-analytics.html"><a href="syllabus-msin0094-marketing-analytics.html#module-structure-overview"><i class="fa fa-check"></i><b>2.3</b> Module Structure Overview</a></li>
<li class="chapter" data-level="2.4" data-path="syllabus-msin0094-marketing-analytics.html"><a href="syllabus-msin0094-marketing-analytics.html#if-you-have-questions-microsoft-teams-and-office-hours"><i class="fa fa-check"></i><b>2.4</b> If You Have Questions: Microsoft Teams and Office Hours</a></li>
<li class="chapter" data-level="2.5" data-path="syllabus-msin0094-marketing-analytics.html"><a href="syllabus-msin0094-marketing-analytics.html#textbook"><i class="fa fa-check"></i><b>2.5</b> Textbook</a></li>
<li class="chapter" data-level="2.6" data-path="syllabus-msin0094-marketing-analytics.html"><a href="syllabus-msin0094-marketing-analytics.html#programming-language-r"><i class="fa fa-check"></i><b>2.6</b> Programming Language R</a></li>
<li class="chapter" data-level="2.7" data-path="syllabus-msin0094-marketing-analytics.html"><a href="syllabus-msin0094-marketing-analytics.html#classroom-etiquette"><i class="fa fa-check"></i><b>2.7</b> Classroom Etiquette</a></li>
<li class="chapter" data-level="2.8" data-path="syllabus-msin0094-marketing-analytics.html"><a href="syllabus-msin0094-marketing-analytics.html#assignments-and-grading-policy"><i class="fa fa-check"></i><b>2.8</b> Assignments and Grading policy</a>
<ul>
<li class="chapter" data-level="2.8.1" data-path="syllabus-msin0094-marketing-analytics.html"><a href="syllabus-msin0094-marketing-analytics.html#code-of-conduct-and-plagiarism"><i class="fa fa-check"></i><b>2.8.1</b> Code of Conduct and Plagiarism</a></li>
<li class="chapter" data-level="2.8.2" data-path="syllabus-msin0094-marketing-analytics.html"><a href="syllabus-msin0094-marketing-analytics.html#word-count"><i class="fa fa-check"></i><b>2.8.2</b> Word Count</a></li>
<li class="chapter" data-level="2.8.3" data-path="syllabus-msin0094-marketing-analytics.html"><a href="syllabus-msin0094-marketing-analytics.html#for-extenuating-circumstances-and-emergencies"><i class="fa fa-check"></i><b>2.8.3</b> For Extenuating Circumstances and Emergencies</a></li>
<li class="chapter" data-level="2.8.4" data-path="syllabus-msin0094-marketing-analytics.html"><a href="syllabus-msin0094-marketing-analytics.html#marks-and-feedback"><i class="fa fa-check"></i><b>2.8.4</b> Marks and Feedback</a></li>
</ul></li>
<li class="chapter" data-level="2.9" data-path="syllabus-msin0094-marketing-analytics.html"><a href="syllabus-msin0094-marketing-analytics.html#copyright-issues"><i class="fa fa-check"></i><b>2.9</b> Copyright Issues</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="r-tutorials.html"><a href="r-tutorials.html"><i class="fa fa-check"></i><b>3</b> R Tutorials</a>
<ul>
<li class="chapter" data-level="3.1" data-path="r-tutorials.html"><a href="r-tutorials.html#install-and-setup-r"><i class="fa fa-check"></i><b>3.1</b> Install and Setup R</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="r-tutorials.html"><a href="r-tutorials.html#class-objective"><i class="fa fa-check"></i><b>3.1.1</b> Class Objective</a></li>
<li class="chapter" data-level="3.1.2" data-path="r-tutorials.html"><a href="r-tutorials.html#what-is-r"><i class="fa fa-check"></i><b>3.1.2</b> What is R</a></li>
<li class="chapter" data-level="3.1.3" data-path="r-tutorials.html"><a href="r-tutorials.html#what-is-r-used-for"><i class="fa fa-check"></i><b>3.1.3</b> What is R used for?</a></li>
<li class="chapter" data-level="3.1.4" data-path="r-tutorials.html"><a href="r-tutorials.html#popularity-of-r"><i class="fa fa-check"></i><b>3.1.4</b> Popularity of R</a></li>
<li class="chapter" data-level="3.1.5" data-path="r-tutorials.html"><a href="r-tutorials.html#install-and-setup-r-on-your-computers-step-1"><i class="fa fa-check"></i><b>3.1.5</b> Install and Setup R on your computers: Step 1</a></li>
<li class="chapter" data-level="3.1.6" data-path="r-tutorials.html"><a href="r-tutorials.html#screenshot-of-r-console"><i class="fa fa-check"></i><b>3.1.6</b> Screenshot of R Console</a></li>
<li class="chapter" data-level="3.1.7" data-path="r-tutorials.html"><a href="r-tutorials.html#install-and-setup-r-on-your-computers-step-2"><i class="fa fa-check"></i><b>3.1.7</b> Install and Setup R on your computers: Step 2</a></li>
<li class="chapter" data-level="3.1.8" data-path="r-tutorials.html"><a href="r-tutorials.html#screenshot-of-rstudio"><i class="fa fa-check"></i><b>3.1.8</b> Screenshot of RStudio</a></li>
<li class="chapter" data-level="3.1.9" data-path="r-tutorials.html"><a href="r-tutorials.html#glossary"><i class="fa fa-check"></i><b>3.1.9</b> Glossary</a></li>
<li class="chapter" data-level="3.1.10" data-path="r-tutorials.html"><a href="r-tutorials.html#use-help"><i class="fa fa-check"></i><b>3.1.10</b> Use Help</a></li>
<li class="chapter" data-level="3.1.11" data-path="r-tutorials.html"><a href="r-tutorials.html#libraries-and-packages-management-the-coventional-way"><i class="fa fa-check"></i><b>3.1.11</b> Libraries and packages management: the coventional way</a></li>
<li class="chapter" data-level="3.1.12" data-path="r-tutorials.html"><a href="r-tutorials.html#libraries-and-packages-management-the-simplest-way"><i class="fa fa-check"></i><b>3.1.12</b> Libraries and packages management: the simplest way</a></li>
<li class="chapter" data-level="3.1.13" data-path="r-tutorials.html"><a href="r-tutorials.html#comment-your-codes"><i class="fa fa-check"></i><b>3.1.13</b> Comment your codes</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="r-tutorials.html"><a href="r-tutorials.html#r-basics"><i class="fa fa-check"></i><b>3.2</b> R Basics</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="r-tutorials.html"><a href="r-tutorials.html#use-r-as-a-calculator"><i class="fa fa-check"></i><b>3.2.1</b> Use R as a calculator</a></li>
<li class="chapter" data-level="3.2.2" data-path="r-tutorials.html"><a href="r-tutorials.html#assign-value"><i class="fa fa-check"></i><b>3.2.2</b> Assign value</a></li>
<li class="chapter" data-level="3.2.3" data-path="r-tutorials.html"><a href="r-tutorials.html#data-types"><i class="fa fa-check"></i><b>3.2.3</b> Data types</a></li>
<li class="chapter" data-level="3.2.4" data-path="r-tutorials.html"><a href="r-tutorials.html#data-type-other-special-values"><i class="fa fa-check"></i><b>3.2.4</b> Data type: other special values</a></li>
<li class="chapter" data-level="3.2.5" data-path="r-tutorials.html"><a href="r-tutorials.html#data-type-check-data-type-using-class"><i class="fa fa-check"></i><b>3.2.5</b> Data type: check data type using class()</a></li>
<li class="chapter" data-level="3.2.6" data-path="r-tutorials.html"><a href="r-tutorials.html#data-type-conversion"><i class="fa fa-check"></i><b>3.2.6</b> Data type: conversion</a></li>
<li class="chapter" data-level="3.2.7" data-path="r-tutorials.html"><a href="r-tutorials.html#data-structures"><i class="fa fa-check"></i><b>3.2.7</b> Data structures</a></li>
<li class="chapter" data-level="3.2.8" data-path="r-tutorials.html"><a href="r-tutorials.html#vectors-creating-vectors"><i class="fa fa-check"></i><b>3.2.8</b> Vectors: creating vectors</a></li>
<li class="chapter" data-level="3.2.9" data-path="r-tutorials.html"><a href="r-tutorials.html#vectors-subsetting"><i class="fa fa-check"></i><b>3.2.9</b> Vectors: subsetting</a></li>
<li class="chapter" data-level="3.2.10" data-path="r-tutorials.html"><a href="r-tutorials.html#vectors-relational-operation"><i class="fa fa-check"></i><b>3.2.10</b> Vectors: relational operation</a></li>
<li class="chapter" data-level="3.2.11" data-path="r-tutorials.html"><a href="r-tutorials.html#vectors-elementwise-operations"><i class="fa fa-check"></i><b>3.2.11</b> Vectors: elementwise operations</a></li>
<li class="chapter" data-level="3.2.12" data-path="r-tutorials.html"><a href="r-tutorials.html#matrices-creating-matrices"><i class="fa fa-check"></i><b>3.2.12</b> Matrices: creating matrices</a></li>
<li class="chapter" data-level="3.2.13" data-path="r-tutorials.html"><a href="r-tutorials.html#matrices-indexing-and-subsetting"><i class="fa fa-check"></i><b>3.2.13</b> Matrices: indexing and subsetting</a></li>
<li class="chapter" data-level="3.2.14" data-path="r-tutorials.html"><a href="r-tutorials.html#matrices-operations"><i class="fa fa-check"></i><b>3.2.14</b> Matrices: operations</a></li>
<li class="chapter" data-level="3.2.15" data-path="r-tutorials.html"><a href="r-tutorials.html#arrays"><i class="fa fa-check"></i><b>3.2.15</b> Arrays</a></li>
<li class="chapter" data-level="3.2.16" data-path="r-tutorials.html"><a href="r-tutorials.html#lists"><i class="fa fa-check"></i><b>3.2.16</b> Lists</a></li>
<li class="chapter" data-level="3.2.17" data-path="r-tutorials.html"><a href="r-tutorials.html#lists-indexing-and-subsetting"><i class="fa fa-check"></i><b>3.2.17</b> Lists: indexing and subsetting</a></li>
<li class="chapter" data-level="3.2.18" data-path="r-tutorials.html"><a href="r-tutorials.html#data-frames-creating-dataframe"><i class="fa fa-check"></i><b>3.2.18</b> Data Frames: creating dataframe</a></li>
<li class="chapter" data-level="3.2.19" data-path="r-tutorials.html"><a href="r-tutorials.html#data-frames-property"><i class="fa fa-check"></i><b>3.2.19</b> Data Frames: property</a></li>
<li class="chapter" data-level="3.2.20" data-path="r-tutorials.html"><a href="r-tutorials.html#data-frames-inspection"><i class="fa fa-check"></i><b>3.2.20</b> Data Frames: inspection</a></li>
<li class="chapter" data-level="3.2.21" data-path="r-tutorials.html"><a href="r-tutorials.html#data-frames-subsetting"><i class="fa fa-check"></i><b>3.2.21</b> Data Frames: subsetting</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="r-tutorials.html"><a href="r-tutorials.html#programming-basics"><i class="fa fa-check"></i><b>3.3</b> Programming Basics</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="r-tutorials.html"><a href="r-tutorials.html#variables"><i class="fa fa-check"></i><b>3.3.1</b> Variables</a></li>
<li class="chapter" data-level="3.3.2" data-path="r-tutorials.html"><a href="r-tutorials.html#ifelse"><i class="fa fa-check"></i><b>3.3.2</b> if/else</a></li>
<li class="chapter" data-level="3.3.3" data-path="r-tutorials.html"><a href="r-tutorials.html#loops"><i class="fa fa-check"></i><b>3.3.3</b> Loops</a></li>
<li class="chapter" data-level="3.3.4" data-path="r-tutorials.html"><a href="r-tutorials.html#nested-loops"><i class="fa fa-check"></i><b>3.3.4</b> Nested loops</a></li>
<li class="chapter" data-level="3.3.5" data-path="r-tutorials.html"><a href="r-tutorials.html#functions"><i class="fa fa-check"></i><b>3.3.5</b> Functions</a></li>
<li class="chapter" data-level="3.3.6" data-path="r-tutorials.html"><a href="r-tutorials.html#a-comprehensive-example"><i class="fa fa-check"></i><b>3.3.6</b> A comprehensive example</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="r-tutorials.html"><a href="r-tutorials.html#common-r-errors-and-troubleshooting"><i class="fa fa-check"></i><b>3.4</b> Common R Errors and Troubleshooting</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="r-tutorials.html"><a href="r-tutorials.html#where-you-can-run-r-codes"><i class="fa fa-check"></i><b>3.4.1</b> Where you can run R codes</a></li>
<li class="chapter" data-level="3.4.2" data-path="r-tutorials.html"><a href="r-tutorials.html#packages-not-installed"><i class="fa fa-check"></i><b>3.4.2</b> Packages not installed</a></li>
<li class="chapter" data-level="3.4.3" data-path="r-tutorials.html"><a href="r-tutorials.html#r-packages-not-up-to-date"><i class="fa fa-check"></i><b>3.4.3</b> R packages not up-to-date</a></li>
<li class="chapter" data-level="3.4.4" data-path="r-tutorials.html"><a href="r-tutorials.html#latex-not-found-when-kniting-the-.rmd-file."><i class="fa fa-check"></i><b>3.4.4</b> Latex not found when kniting the .Rmd file.</a></li>
<li class="chapter" data-level="3.4.5" data-path="r-tutorials.html"><a href="r-tutorials.html#connection-not-found"><i class="fa fa-check"></i><b>3.4.5</b> Connection Not Found</a></li>
<li class="chapter" data-level="3.4.6" data-path="r-tutorials.html"><a href="r-tutorials.html#other-questions"><i class="fa fa-check"></i><b>3.4.6</b> Other Questions</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="lecture-notes.html"><a href="lecture-notes.html"><i class="fa fa-check"></i><b>4</b> Lecture Notes</a>
<ul>
<li class="chapter" data-level="4.1" data-path="lecture-notes.html"><a href="lecture-notes.html#data.table-package"><i class="fa fa-check"></i><b>4.1</b> data.table Package</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="lecture-notes.html"><a href="lecture-notes.html#installation-of-data.table"><i class="fa fa-check"></i><b>4.1.1</b> Installation of data.table</a></li>
</ul></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Marketing Analytics</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="lecture-notes" class="section level1" number="4">
<h1><span class="header-section-number">4</span> Lecture Notes</h1>
<p>The lecture notes and reading materials will be released on the <strong>course’s Moodle page</strong> (not online here due to copyright issues) a few days before each class. Please do check the Moodle page one day before the class.</p>

<div id="data.table-package" class="section level2" number="4.1">
<h2><span class="header-section-number">4.1</span> data.table Package</h2>
<p>This is a tutorial on the <code>data.table</code> package, which we will learn in Week 2.</p>
<div id="installation-of-data.table" class="section level3" number="4.1.1">
<h3><span class="header-section-number">4.1.1</span> Installation of data.table</h3>
<p>You can use <code>pacman::p_load(data.table)</code> command on both Windows and MacOS to install and load the <code>data.table</code> package. You can use all the funtionality of <code>data.table</code> package without issues.</p>
<p>However, if you manually load the package using</p>
<pre><code>library(data.table)</code></pre>
<p>You may find that, there is a warning message, saying that “This installation of data.table has not detected OpenMP support. It should still work but in single-threaded mode.”</p>
<p>It means that using the default installation method, <code>data.table</code> package can only utilize a single core of your computer, even if your CPU may have 4 cores or more. We know that one of the biggest advantages of <code>data.table</code> over <code>dplyr</code> or <code>pandas</code> is its efficiency and great performance. So we do not want to lose this advantage on MacOS.</p>
<p>The <code>data.table</code> official <a href="https://github.com/Rdatatable/data.table/wiki/Installation">github page</a> offers a more comprehensive guide on how to install <code>data.table</code>, but it contains lots of information and you may get lost easily. Below, I will show you an easier step-by-step guide on how to install <code>data.table</code> to enable its OpenMP capability on Mac. If you failed the installation with my guide, please refer back to the official guide to troubleshoot.</p>
<p>(p.s. I do not own the latest M1 Mac, and the tutorial below applies to Intel-based Macbooks.)</p>
<div id="step-1-install-a-clang-compiler-that-supports-openmp" class="section level4" number="4.1.1.1">
<h4><span class="header-section-number">4.1.1.1</span> Step 1: Install a clang compiler that supports OpenMP</h4>
<p>Simply put, in recent MacOS releases, the default clang (c-language) compiler disables support for OpenMP. That’s why with the default installation, we do not have OpenMP. The solution is to use a C complier that supports OpenMP.</p>
<p>In this guide, we will be using the gfortran complier.</p>
<ul>
<li>Go to this page <a href="https://github.com/fxcoudert/gfortran-for-macOS/releases" class="uri">https://github.com/fxcoudert/gfortran-for-macOS/releases</a>, and download the <code>.dmg</code> file that suits your MacOS. For instance, I am using BigSur and a Intel-based Macbook, so I will download and install gfortran-intel-11.1-BigSur.dmg.</li>
</ul>
<p><img src="images/datatable/datatable_gfortran.png" /><!-- --></p>
<ul>
<li><p>After downloading the dmg file, install it accordingly.</p></li>
<li><p>Ensure that you have command line tools installed. <strong>Do NOT</strong> skip this step. It is essential. To do so, open Mac’s <code>Terminal</code>, which is a Mac built-in app as below:</p></li>
</ul>
<p><img src="images/datatable/datatable_terminal.png" width="25%" /></p>
<ul>
<li>Type (or copy paste) the following into your terminal and hit enter to run:</li>
</ul>
<pre><code>xcode-select --install</code></pre>
<p>like this:</p>
<p><img src="images/datatable/datatable_terminal2.png" /><!-- --></p>
<p>If you get an error message: xcode-select: error: command line tools are already installed, use “Software Update” to install updates, then you already have command line tools and can proceed to the next step. Else please follow the onscreen instructions and install it first.</p>
</div>
<div id="step-2-take-the-gfortran-path" class="section level4" number="4.1.1.2">
<h4><span class="header-section-number">4.1.1.2</span> Step 2: Take the gfortran path</h4>
<ul>
<li><p>After installing gfortran, open <code>Finder</code>.</p></li>
<li><p>Press <code>shift</code> + <code>command</code> + <code>G</code>; Paste “/usr/local/gfortran” into <code>Finder</code> as in the screenshot, and hit <code>Enter</code></p></li>
</ul>
<p><img src="images/datatable/datatable_finder.png" /><!-- --></p>
<ul>
<li>You should see this now:</li>
</ul>
<p><img src="images/datatable/datatable_finder2.png" /><!-- --></p>
<p>If you see the “gfortran” folder, with subfolders named “bin”, “include”, etc., it means you have successfully found out the path of your gfortran installation. Otherwise, you may need to figure out the correct path.</p>
</div>
<div id="step-3-create-and-edit-makevars" class="section level4" number="4.1.1.3">
<h4><span class="header-section-number">4.1.1.3</span> Step 3: Create and edit “Makevars”</h4>
<ul>
<li><p>Open <code>Terminal</code>.</p></li>
<li><p>Run the following code in <code>Terminal</code> to change the current directory to “~/.r”</p></li>
</ul>
<pre><code>cd ~/.r</code></pre>
<ul>
<li>Run the following code in <code>Terminal</code> to create a new file named Makevar in folder “~/.r”</li>
</ul>
<pre><code>touch Makevars</code></pre>
<ul>
<li>Now go to <code>Finder</code>, press <code>Shift</code> + <code>Command</code> + <code>G</code>; Paste “~/.r/Makevars” and go to the folder; Open the “Makevars” file with TextEdit app, as in the screenshot.</li>
</ul>
<p><img src="images/datatable/datatable_makevars.png" /><!-- --></p>
<ul>
<li>Copy paste the following text into “Makevars” file.</li>
</ul>
<pre><code>    LOC = /usr/local/gfortran
    CC=$(LOC)/bin/gcc -fopenmp
    CXX=$(LOC)/bin/g++ -fopenmp
    CXX11 = $(LOC)/bin/g++ -fopenmp # for fst package
    CXX14=$(LOC)/bin/g++ -fopenmp
    CXX17=$(LOC)/bin/g++ -fopenmp
    CXX1X=$(LOC)/bin/g++ -fopenmp

    CFLAGS=-g -O3 -Wall -pedantic -std=gnu99 -mtune=native -pipe
    CXXFLAGS=-g -O3 -Wall -pedantic -std=c++11 -mtune=native -pipe -Wno-unused 
    LDFLAGS=-L$(LOC)/lib -Wl,-rpath,$(LOC)/lib 
    CPPFLAGS=-I$(LOC)/include -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include </code></pre>
<ul>
<li>Save the file and exit</li>
</ul>
</div>
<div id="step-4-install-data.table-again-from-source." class="section level4" number="4.1.1.4">
<h4><span class="header-section-number">4.1.1.4</span> Step 4: Install data.table again from source.</h4>
<p>Now open <code>Rstudio</code> and install data.table package using this command:</p>
<pre><code>install.packages(&#39;data.table&#39;, type = &#39;source&#39;)</code></pre>
<p>If you see the following rolling compilation process, then congratulations, after a while, you should be able to use <code>data.table</code> package with OpenMP support!</p>
<p><img src="images/datatable/datatable_install.png" /><!-- --></p>

</div>
</div>
</div>
</div>






            </section>

          </div>
        </div>
      </div>
<a href="r-tutorials.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": true,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": null,
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["MarketingAnaltyics.pdf"],
"search": {
"engine": "lunr",
"options": null
},
"toc": {
"collapse": "subsection",
"scroll_highlight": true
},
"toolbar": {
"position": "fixed"
},
"info": true
});
});
</script>

</body>

</html>
